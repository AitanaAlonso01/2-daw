<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Ficha de personaje</title>
    <link rel="stylesheet" href="/styles.css" />
    <link rel="icon" href="/favicon.ico" type="image/x-icon" />
  </head>
  <body>
    <canvas id="espacio"></canvas>
    <div class="regresar">
      <!-- Enlace a la p√°gina de galer√≠a -->
      <a href="/starwars?q=galeria">
        <button>‚¨Ö Galer√≠a</button>
      </a>
      <!-- Enlace a la p√°gina de b√∫squeda -->
      <a href="/">
        <button>‚¨Ö Buscador</button>
      </a>
    </div>
    <!-- Mostrar fichas completas -->
    <% if (typeof personajesConPlaneta !== 'undefined') { %> <%
    personajesConPlaneta.forEach(({ personaje, planeta }) => { %>
    <div class="contenedor-pj">
      <h1><%= personaje.name %></h1>
      <div class="info-pj">
        <img
          src="<%= personaje.photo %>"
          alt="<%= personaje.name %>"
          width="200"
        />
        <div class="datos-pj">
          <p><strong>Altura:</strong> <%= personaje.height %> cm</p>
          <p><strong>Peso:</strong> <%= personaje.mass %> kg</p>
          <p><strong>Color de pelo:</strong> <%= personaje.hair_color %></p>
          <p><strong>Color de piel:</strong> <%= personaje.skin_color %></p>
          <p><strong>Color de ojos:</strong> <%= personaje.eye_color %></p>
          <p><strong>A√±o de nacimiento:</strong> <%= personaje.birth_year %></p>
          <p><strong>G√©nero:</strong> <%= personaje.gender %></p>

          <% if (planeta) { %>
          <h2>üåç Planeta de origen</h2>
          <p><strong>Nombre:</strong> <%= planeta.name %></p>
          <p><strong>Rotaci√≥n:</strong> <%= planeta.rotation_period %> horas</p>
          <p><strong>√ìrbita:</strong> <%= planeta.orbital_period %> d√≠as</p>
          <% } else { %>
          <p>No se pudo cargar el planeta.</p>
          <% } %>

          <p><strong>Creado:</strong> <%= personaje.created %></p>
          <p><strong>Editado:</strong> <%= personaje.edited %></p>
        </div>
      </div>

      <!-- Botones para editar y eliminar -->
      <div class="botones-mostrar">
        <form action="/starwars/<%= personaje.name %>/edit" method="get">
          <button class="btn-editar">Editar</button>
        </form>
        <form
          action="/starwars/<%= personaje.name %>?_method=DELETE"
          method="post"
        >
          <button class="btn-eliminar">Eliminar</button>
        </form>
      </div>
    </div>
    <hr />
    <% }) %> <% } else if (typeof personaje !== 'undefined') { %>
    <div class="contenedor-pj">
      <h1><%= personaje.name %></h1>
      <div class="info-pj">
        <img
          src="<%= personaje.photo %>"
          alt="<%= personaje.name %>"
          width="200"
        />
        <div class="datos-pj">
          <p><strong>Altura:</strong> <%= personaje.height %> cm</p>
          <p><strong>Peso:</strong> <%= personaje.mass %> kg</p>
          <p><strong>Color de pelo:</strong> <%= personaje.hair_color %></p>
          <p><strong>Color de piel:</strong> <%= personaje.skin_color %></p>
          <p><strong>Color de ojos:</strong> <%= personaje.eye_color %></p>
          <p><strong>A√±o de nacimiento:</strong> <%= personaje.birth_year %></p>
          <p><strong>G√©nero:</strong> <%= personaje.gender %></p>

          <% if (planeta) { %>
          <h2>üåç Planeta de origen</h2>
          <p><strong>Nombre:</strong> <%= planeta.name %></p>
          <p><strong>Rotaci√≥n:</strong> <%= planeta.rotation_period %> horas</p>
          <p><strong>√ìrbita:</strong> <%= planeta.orbital_period %> d√≠as</p>
          <% } else { %>
          <p>No se pudo cargar el planeta.</p>
          <% } %>

          <p><strong>Creado:</strong> <%= personaje.created %></p>
          <p><strong>Editado:</strong> <%= personaje.edited %></p>
        </div>
      </div>

      <div class="botones-mostrar">
        <form action="/starwars/<%= personaje.name %>/edit" method="get">
          <button class="btn-editar">Editar</button>
        </form>
        <form
          action="/starwars/<%= personaje.name %>?_method=DELETE"
          method="post"
        >
          <button class="btn-eliminar">Eliminar</button>
        </form>
      </div>
    </div>
    <% } else { %>
    <p>No se recibi√≥ informaci√≥n de personajes.</p>
    <% } %>

    <script src="/app.js"></script>
  </body>
</html>
